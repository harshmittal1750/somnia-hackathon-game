# 🚀 Somnia Space Defender

An addictive 2D space shooter game built for the Somnia Hackathon. Defend the galaxy against alien invasion with smooth gameplay, Web3 integration, and on-chain scoring!

![Game Banner](https://img.shields.io/badge/Somnia-Space%20Defender-blue?style=for-the-badge&logo=ethereum)
![Solidity](https://img.shields.io/badge/Solidity-^0.8.19-brightgreen?style=flat-square)
![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-yellow?style=flat-square)
![Web3](https://img.shields.io/badge/Web3.js-Enabled-orange?style=flat-square)

## 🎮 Game Overview

Somnia Space Defender is a modern take on classic space shooter games like "Chicken Invaders". Battle through 10 increasingly difficult levels, collect power-ups, and compete on the global leaderboard powered by Somnia blockchain.

### ✨ Key Features

- **10 Difficulty Levels**: From Rookie to INSANE with unique challenges
- **Web3 Integration**: Connect wallet and save scores on Somnia testnet
- **Smooth Gameplay**: 60 FPS optimized performance with visual effects
- **Advanced Weapon System**: 6 unique bullet types with special effects
- **Dynamic Enemy AI**: 9 alien types with unique behaviors and abilities
- **Space Transition Effects**: Cinematic level changes with themed environments
- **Achievement System**: Unlock achievements and track statistics
- **Global Leaderboard**: Compete with players worldwide
- **SSD Token Economy**: Play-to-earn with blockchain rewards
- **Responsive Design**: Works on desktop and mobile devices
- **Built-in Faucet Access**: Easy token acquisition through in-game panel

### 💰 SSD Token Integration

**Play-to-Earn Space Combat!** Earn SSD tokens while defending the galaxy and spend them on powerful upgrades.

#### 🎮 Earning SSD Tokens

- **Kill Rewards**: Earn 0.01 SSD for every alien eliminated
- **Social Bonus**: Verify your Twitter account for 50 SSD tokens
- **Achievement Rewards**: Unlock bonus SSD through gameplay milestones

#### 🛍️ Power-Up Shop

Spend your earned SSD tokens on game-changing boosts:

- 🚀 **2x Score Multiplier** (30 minutes) - 15 SSD
- ⚡ **Rapid Fire Mode** (1 hour) - 10 SSD
- 🛡️ **Energy Shield** (45 minutes) - 12 SSD
- 🔫 **Multi-Shot Cannon** (30 minutes) - 8 SSD
- ❤️ **Extra Life** (permanent until used) - 25 SSD

#### 📱 Social Features

- **Twitter Verification**: Connect your Twitter for 1 SSD reward bonus
- **Community Engagement**: Follow development and participate in events
- **Built-in Faucet Access**: Get test tokens easily through in-game panel
<!--

#### 🚰 Faucet Integration

**Easy Token Access:**

- **In-Game Faucet Panel**: Click "🚰 Get Test Tokens" from main menu
- **Multiple Faucet Sources**: Access to 3 different faucet providers
- **One-Click Network Setup**: Automatic Somnia network addition to wallet
- **Step-by-Step Guide**: Built-in instructions for new users

**Available Features:**

- Direct links to Official Somnia, Gas.zip, and Faucet.trade
- Network configuration details display
- Automatic wallet integration
- Mobile-friendly faucet access -->

#### 💎 Trading & Liquidity

- **Trade SSD**: Buy/sell tokens on [Euclid Swap](https://testnet.euclidswap.io/pools/ssd.eucl-stt)
- **Liquidity Mining**: Provide liquidity for additional rewards (coming soon)
- **Token Economics**: Drive ecosystem growth through gameplay engagement

## 🎯 How to Play

### 🎮 Controls

**🖥️ Desktop Controls:**

- **Movement**: WASD or Arrow Keys
- **Shoot**: SPACE or J key
- **Pause**: ESC or click Pause button
- **Auto-fire**: Hold SPACE for continuous shooting

**📱 Mobile/Touch Controls:**

- **Movement**: Virtual joystick (bottom-left)
- **Shoot**: Fire button (bottom-right)
- **Pause**: Mobile pause button (top-right)
- **Responsive**: Automatic mobile detection and optimization

### 🎯 Game Objectives

1. **Survive**: Avoid alien contact to preserve your health (1 HP system)
2. **Shoot**: Destroy aliens to earn points and SSD tokens
3. **Collect**: Grab power-ups for special weapons and abilities
4. **Progress**: Advance through 10 increasingly difficult levels
5. **Explore**: Experience unique space regions with transition effects
6. **Compete**: Set high scores on the blockchain leaderboard
7. **Earn**: Accumulate SSD tokens through gameplay achievements

### 🎲 Gameplay Mechanics

**🔄 Level Progression:**

- Complete levels by killing required number of aliens (Level × 10)
- Each level introduces new alien types and increased difficulty
- Experience cinematic space transitions between regions

<!-- **⚡ Combat System:**

- Collision-based combat with enhanced hit detection
- Weapon heat system prevents spam-clicking
- Power-ups provide temporary but powerful advantages

**🛡️ Survival Strategy:**

- Single health point - avoid all enemy contact
- Use power-ups strategically for difficult situations
- Shield power-ups provide temporary invincibility -->

**💰 Token Economy:**

- Earn 0.01 SSD per alien killed
- Bonus SSD through Twitter verification (1 SSD)
- Spend SSD tokens in the in-game shop for upgrades
<!--

### Power-ups & Weapons

**🔧 Basic Power-ups:**

- ⚡ **Rapid Fire**: Increased firing rate (5 seconds)
- 🛡️ **Energy Shield**: Temporary invincibility (8 seconds)
- 💥 **Multi-Shot**: Fire 3 bullets in spread pattern (6 seconds)
- ❤️ **Health Boost**: Restore health instantly

**🔫 Advanced Weapon Systems:**

- ⚡ **Lightning Bullets**: Chain between enemies, piercing damage (8 seconds)
- 🔥 **Fire Bullets**: Burn enemies over time with splash damage (8 seconds)
- 🌊 **Wave Bullets**: Oscillating projectiles with high piercing damage (8 seconds)
- ⚛️ **Plasma Cannon**: Energy burst with massive area damage (10 seconds)
- ❄️ **Ice Blaster**: Freeze and slow enemies with crystal shards (8 seconds)

**✨ Weapon Effects:**

- **Lightning**: Chains up to 3 nearby enemies per shot
- **Fire**: Burns enemies for 3 seconds, splash damage in 40px radius
- **Wave**: Oscillating movement pattern, pierces through multiple enemies
- **Plasma**: Explosive energy bursts with 60px splash radius
- **Ice**: Slows enemies by 50% for 2 seconds, 35px splash radius

### Enemy Types & Scoring

**🛸 Basic Alien Types:**

- **Basic Alien**: 10 points - Standard enemy with basic movement
- **Fast Alien**: 20 points - Quick zigzag movement, dodging abilities
- **Tank Alien**: 30 points - Heavy armor, high health, slow movement
- **Boss Alien**: 100 points - Circular patterns, regeneration abilities

**👾 Advanced Alien Varieties:**

- **Swarm Aliens**: 15 points - Spawn in groups of 3, group behavior
- **Stealth Aliens**: 40 points - Phase in/out of visibility, teleportation
- **Berserker Aliens**: 50 points - Charge attacks when damaged, rage mode
- **Shielded Aliens**: 35 points - Energy shields that regenerate over time
- **Splitter Aliens**: 25 points - Split into smaller aliens when destroyed
- **Bomber Aliens**: 30 points - Explode on death, area damage
- **Healer Aliens**: 60 points - Heal nearby aliens, support abilities
- **Mega Boss**: 500 points - Multi-phase boss with minion spawning

**🎯 Special Abilities:**

- **Dodge**: Evade incoming bullets
- **Armor**: Reduced damage from attacks
- **Regenerate**: Slowly heal over time
- **Stealth**: Become invisible temporarily
- **Phase**: Teleport to new positions
- **Rage**: Increased speed/damage when low health
- **Energy Shield**: Absorbs damage before affecting health
- **Split on Death**: Creates multiple smaller enemies
- **Explosive Death**: Area damage when destroyed
- **Heal Others**: Restore health to nearby allies

### 🌌 Space Transition Effects

**Cinematic Level Changes:**
Experience immersive space travel as you progress through different cosmic regions:

- **Warp Transitions**: High-speed particle streams with accelerating effects
- **Fold Transitions**: Space-time ripples with pulsing energy waves
- **Rift Transitions**: Dimensional tears with swirling cosmic vortexes
- **Quantum Transitions**: Particle dissolution and reformation effects
- **Fade Transitions**: Smooth atmospheric changes between regions

**🌟 Themed Space Environments:**

- **Nebula Regions**: Colorful gas clouds with floating debris
- **Asteroid Fields**: Rocky environments with scattered minerals
- **Deep Space**: Dark cosmic void with distant stars
- **Void Sectors**: Mysterious dark matter regions
- **Galaxy Centers**: Bright stellar formations with cosmic energy

**⚡ Enhanced Gameplay During Transitions:**

- Slowed gameplay for better visual appreciation (5-second duration)
- Floating level notifications with space region names
- Ambient particle effects matching each environment theme
- Smooth audio transitions with dynamic background music -->

## 🚀 Quick Start

### Option 1: Play Online (Recommended)

1. Visit the deployed game at: `[DEPLOYMENT_URL]`
2. Connect your MetaMask wallet
3. Switch to Somnia testnet (will auto-prompt)
4. Start playing and save high scores on-chain!

### Option 2: Run Locally

```bash
# Clone the repository
git clone https://github.com/[USERNAME]/somnia-hackathon-game.git
cd somnia-hackathon-game

# Serve the files (any static server works)
# Option A: Python
python -m http.server 8000

# Option B: Node.js
npx serve .

# Option C: VS Code Live Server extension
# Right-click index.html -> "Open with Live Server"

# Open browser and navigate to:
http://localhost:8000
```

## 🔧 Development Setup

### Prerequisites

- Modern web browser with MetaMask
- Somnia testnet SOM tokens (for contract deployment)
- Text editor (VS Code recommended)
- Basic knowledge of JavaScript and Solidity

### Project Structure

```
somnia-hackathon-game/
├── index.html              # Main game page with faucet panel
├── styles/
│   └── main.css            # Enhanced styling with transition effects
├── js/
│   ├── config.js           # Game configuration (weapons, aliens, effects)
│   ├── web3Manager.js      # Web3 wallet integration
│   ├── hybridWeb3Manager.js # Enhanced Web3 management
│   ├── wagmiManager.js     # Alternative Web3 connection system
│   ├── entities.js         # Enhanced game objects with new weapons
│   ├── gameEngine.js       # Core game logic with space transitions
│   ├── levels.js           # Level management system
│   ├── main.js             # Application controller with faucet integration
│   └── services/
│       └── apiService.js   # Backend API communication
├── contracts/
│   ├── SomniaSpaceDefender.sol        # Full smart contract
│   └── SomniaSpaceDefenderMinimal.sol # Minimal SSD rewards contract
├── backend/                # Express.js backend server
│   ├── api/               # API endpoints
│   ├── models/            # Database models
│   ├── routes/            # Route handlers
│   └── services/          # Business logic services
├── assets/
│   └── audio/             # Dynamic background music system
└── README.md
```

### Smart Contract Deployment

1. **Install Dependencies**

```bash
npm init -y
npm install --save-dev hardhat @nomiclabs/hardhat-ethers ethers
```

2. **Create Hardhat Config**

```javascript
// hardhat.config.js
require("@nomiclabs/hardhat-ethers");

module.exports = {
  solidity: "0.8.19",
  networks: {
    somnia: {
      url: "https://testnet.somnia.network/rpc",
      accounts: ["YOUR_PRIVATE_KEY"],
    },
  },
};
```

3. **Deploy Contract**

```bash
# Compile contract
npx hardhat compile

# Deploy to Somnia testnet
npx hardhat run --network somnia scripts/deploy.js
```

4. **Update Contract Address**

```javascript
// In js/config.js, update:
CONTRACTS: {
  GAME_SCORE: "0xYOUR_DEPLOYED_CONTRACT_ADDRESS";
}
```

## 🌐 Somnia Testnet Setup

### Add Somnia Network to MetaMask

- **Network Name**: Somnia Testnet
- **RPC URL**: `https://dream-rpc.somnia.network`
- **Chain ID**: `50312` (0xc488)
- **Currency Symbol**: STT
- **Block Explorer**: `https://shannon-explorer.somnia.network/`

### Get Test Tokens (Multiple Faucets Available)

**🚰 In-Game Faucet Access:**

- Click **"🚰 Get Test Tokens"** button in the main game menu
- One-click network addition to MetaMask
- Direct links to all available faucets

**📍 Available Faucets:**

1. **Official Somnia Testnet**: https://testnet.somnia.network
2. **Gas.zip Faucet**: https://www.gas.zip/faucet/somnia
3. **Faucet.trade**: https://faucet.trade/somnia-shannon-stt-faucet

**📱 Easy Setup:**

- The game automatically prompts to add Somnia network
- Built-in faucet panel with step-by-step instructions
- No manual network configuration needed

## 🎨 Customization

### Adding Sound Effects

1. Add audio files to `assets/audio/`
2. Update HTML audio elements in `index.html`
3. Modify `js/gameEngine.js` audio references

### Creating Custom Levels

```javascript
// In js/config.js, modify LEVELS object:
LEVELS: {
    11: {
        name: 'Custom Level',
        speedMultiplier: 3.0,
        healthMultiplier: 2.0,
        spawnRateMultiplier: 0.1,
        alienTypes: 4
    }
}
```

### Styling Changes

- Modify `styles/main.css` for visual customization
- Update color schemes, fonts, and animations
- Add particle effects and visual polish

## 📊 Technical Architecture

### Frontend

- **HTML5 Canvas**: Advanced 2D rendering with particle effects
- **Vanilla JavaScript ES6+**: No framework dependencies, optimized performance
- **Multiple Web3 Integrations**: Web3.js, Wagmi, and hybrid management
- **CSS3**: Modern UI with space theme and responsive design
- **Dynamic Audio System**: Background music with intensity-based switching
- **Mobile Optimization**: Touch controls and responsive scaling

### Enhanced Game Engine

- **Advanced Particle Systems**: Weapon effects, explosions, space transitions
- **Entity Component System**: Modular game object architecture
- **Collision Detection**: Enhanced algorithms with padding for better UX
- **Visual Effects Pipeline**: Screen shake, transitions, floating text
- **Audio Management**: Dynamic music system with track switching
- **Performance Monitoring**: FPS tracking and optimization modes

### Backend/Blockchain

- **Express.js Backend**: RESTful API with anti-cheat verification
- **Dual Smart Contracts**: Full featured + minimal SSD rewards
- **Somnia Testnet**: High-performance blockchain integration
- **Database Integration**: Player statistics and leaderboards
- **Twitter API**: Social verification system

<!-- ### New Technical Features

- **Space Transition System**: Cinematic level changes with 5 effect types
- **Advanced Weapon System**: 6 bullet types with unique behaviors
- **Enhanced Enemy AI**: 9 alien types with special abilities
- **Faucet Integration**: In-game token acquisition interface
- **Mobile Touch Controls**: Virtual joystick and responsive UI
- **Dynamic Theming**: Environment-based visual changes -->

### Performance Optimizations

- **Entity Pooling**: Efficient memory management for bullets/particles
- **Collision Optimization**: Spatial partitioning and early exits
- **Frame Rate Management**: Delta time calculations and performance scaling
- **Canvas Optimization**: Responsive scaling and efficient rendering
- **Asset Management**: Lazy loading and caching strategies
- **Mobile Performance**: Touch event optimization and battery efficiency

## 🏆 Competition Criteria

### ✅ Creativity & Originality

- **Enhanced Space Shooter**: Modern take with 6 unique weapon types and advanced enemy AI
- **Cinematic Transitions**: Immersive space travel between themed environments
- **10-Level Progression**: Each level introduces new challenges and visual themes
- **Innovative Web3 Integration**: Seamless blockchain features with built-in faucet access

### ✅ Technical Excellence

- **Dual Smart Contracts**: Deployed on Somnia testnet with optimized SSD rewards
- **Production-Ready Architecture**: Express.js backend with anti-cheat verification
- **Advanced Game Engine**: Particle systems, collision optimization, and 60 FPS performance
- **Multiple Web3 Integrations**: Web3.js, Wagmi, and hybrid connection management

### ✅ User Experience

- **Intuitive Controls**: Desktop (WASD/Arrow keys) and mobile (virtual joystick) support
- **Responsive Design**: Optimized for all devices with automatic mobile detection
- **Professional UI**: Space-themed aesthetics with smooth animations and transitions
- **Accessibility Features**: Built-in faucet panel and step-by-step wallet setup

### ✅ On-chain Impact

- **Blockchain Gaming**: Scores, achievements, and SSD tokens stored on Somnia
- **Play-to-Earn Economy**: 0.01 SSD per alien kill + social verification rewards
- **Transparent Leaderboards**: Global rankings with verifiable blockchain data
- **Token Integration**: SSD shop, trading, and liquidity features

<!-- ### ✅ Community Fit

- **Easy Onboarding**: Built-in faucet access removes barriers for new users
- **Competitive Elements**: Global leaderboards and achievement system
- **Social Features**: Twitter verification and community engagement
- **Scalable Architecture**: Backend supports tournaments and future multiplayer features -->

## 🚀 Deployment

### Hosting Options

1. **GitHub Pages** (Free)
2. **Vercel** (Recommended for production)
3. **Netlify** (Good for static sites)
4. **IPFS** (Fully decentralized)

### Deployment Steps

```bash
# Build for production (if using build tools)
npm run build

# Deploy to chosen platform
# Example for Vercel:
npm install -g vercel
vercel --prod

# Update contract addresses in config
# Test thoroughly on testnet
```

## 🐛 Troubleshooting

### Common Issues

**MetaMask Connection Fails**

- Ensure MetaMask is installed and unlocked
- Check if Somnia testnet is added correctly
- Verify sufficient SOM balance for transactions

**Game Performance Issues**

- Lower the max particles/bullets in CONFIG
- Disable debug mode if enabled
- Use a modern browser with hardware acceleration

**Smart Contract Errors**

- Verify contract address is correct
- Check network connection to Somnia testnet
- Ensure wallet has enough SOM for gas

**Audio Not Playing**

- Check browser auto-play policies
- Verify audio files are in correct format
- Enable audio in game settings

## 🆕 Recent Updates & Enhancements

### ✨ Latest Features (v2.0)

<!--
**🔫 Advanced Weapon System:**

- 6 unique bullet types: Standard, Lightning, Fire, Wave, Plasma, Ice
- Special effects: Chaining, burning, freezing, piercing, splash damage
- Visual enhancements: Particle trails, energy effects, crystal formations
- Weapon power-ups: Temporary special ammunition types -->

**👾 Enhanced Enemy AI:**

- 9 total alien types with unique behaviors and abilities
- Special abilities: Dodge, armor, regeneration, stealth, rage, healing
- Advanced patterns: Swarm behavior, teleportation, explosive deaths
- Mega boss encounters with multi-phase attacks

**🌌 Space Transition Effects:**

- Cinematic level changes with 5 different transition types
- Themed space environments: Nebula, asteroid, deep space, void, galaxy
- Slowed gameplay during transitions for better visual appreciation
- Floating level notifications and ambient particle effects

**🚰 Built-in Faucet System:**

- In-game faucet panel accessible from main menu
- Multiple faucet sources: Official Somnia, Gas.zip, Faucet.trade
- One-click Somnia network addition to MetaMask
- Step-by-step instructions for new users

**📱 Mobile & UX Improvements:**

- Enhanced touch controls with virtual joystick
- Responsive design optimization for all screen sizes
- Improved collision detection with enhanced hit boxes
- Dynamic audio system with background music transitions

<!-- **🔧 Technical Improvements:**

- Performance optimizations for smooth 60 FPS gameplay
- Enhanced particle systems for visual effects
- Improved Web3 integration with multiple connection methods
- Backend API with anti-cheat verification
- Mobile-first responsive design -->

<!-- ### 🛠️ Bug Fixes & Stability

- **Fixed**: Game restart functionality now works seamlessly
- **Fixed**: Background music plays correctly after restart
- **Improved**: Collision detection accuracy with padding system
- **Enhanced**: Mobile touch response and control precision
- **Optimized**: Performance on lower-end devices -->

## 📈 Future Enhancements

### 🚀 Upcoming Features Roadmap

#### 🏆 Phase 1 (2 weeks)

- **Tournament System**: Weekly tournaments with massive SSD prize pools
- **Enhanced Leaderboards**: Season-based rankings and rewards

#### 🎨 Phase 2 (3 weeks)

- **NFT Achievements**: Exclusive NFTs for milestone achievements
- **Collectible Spaceships**: Unique NFT spaceships with special abilities

#### 👥 Phase 3 (1 month)

- **Guild System**: Team up with friends for guild battles
- **Collaborative Challenges**: Group missions and shared rewards

#### 🏪 Phase 4 (1.5 months)

- **Advanced Marketplace**: Trade rare items and achievements
- **P2P Trading**: Direct player-to-player asset exchanges

#### 🌊 Phase 5 (2 months)

- **Liquidity Mining**: Earn bonus SSD for providing liquidity on Euclid Swap
- **Yield Farming**: Stake SSD tokens for additional rewards

#### 📱 Phase 6 (3 months)

- **Mobile App**: Native iOS/Android versions with full Web3 support
- **Cross-Platform**: Seamless progress sync across devices

### 💡 Long-term Vision

- **Multiplayer Mode**: Real-time space battles
- **VR Support**: Immersive space combat experience
- **DAO Governance**: Community-driven game development
- **Metaverse Integration**: Virtual space stations and events

## 🤝 Contributing

We welcome contributions! Please:

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

### Development Guidelines

- Follow JavaScript ES6+ standards
- Add comments for complex logic
- Test on multiple browsers
- Optimize for performance

<!-- ## 📄 License

MIT License - see LICENSE file for details -->

## 🙏 Acknowledgments

- Somnia team for the amazing blockchain platform
- Classic space shooter games for inspiration
- Open-source Web3 community for tools and libraries

## 📞 Contact

- **X/Twitter**: [@chainalphaai](https://x.com/chainalphaai)
- **Documentation**: [docs.somnia.network](https://docs.somnia.network/)
- **Support**: [Join Somnia Discord](https://discord.gg/somnia)

---

### 🎮 Ready to Defend the Galaxy?

**[PLAY NOW](DEPLOYMENT_URL)** | **[View Contract](CONTRACT_EXPLORER_URL)** | **[Join Leaderboard](LEADERBOARD_URL)**

_Built with ❤️ by https://x.com/chainalphaai for the Somnia Hackathon_
